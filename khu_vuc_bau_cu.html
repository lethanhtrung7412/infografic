<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Danh Sách Đơn Vị Bầu Cử Xã Đơn Dương</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700;900&display=swap" rel="stylesheet">

    <style>
        body {
            font-family: 'Roboto', sans-serif;
        }
        /* Custom Scrollbar */
        .custom-scrollbar::-webkit-scrollbar {
            width: 6px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
            background: #f1f1f1;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
            background: #cbd5e1;
            border-radius: 3px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
            background: #94a3b8;
        }

        /* Animation Classes */
        .fade-in {
            animation: fadeIn 0.3s ease-in-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<!-- UPDATED: min-h-screen for mobile scrolling, md:h-screen for desktop app-feel -->
<body class="bg-gray-100 min-h-screen md:h-screen flex flex-col md:overflow-hidden text-slate-800">

    <!-- HEADER -->
    <!-- UPDATED: Removed padding from main header to allow inner container to align perfectly -->
    <header class="flex-none bg-red-800 text-white shadow-lg z-20 h-auto min-h-[80px] sticky top-0 md:relative">
        
        <!-- Inner Container: Matches the max-w-6xl of the main content exactly -->
        <div class="w-full max-w-6xl mx-auto flex flex-row h-full">
            
            <!-- LEFT COLUMN: Matches Unit Info width (md:w-1/3) -->
            <!-- UPDATED: Added Logo Image and Text Content -->
            <div class="w-1/3 md:w-1/3 p-2 md:p-3 flex flex-col gap-1 items-center justify-center border-r border-red-700/50 bg-red-900/10">
                <!-- Logo Image -->
                <img src="https://haitrieu.com/wp-content/uploads/2021/11/Quoc-Huy-Viet-Nam.png" 
                     alt="Quốc huy" 
                     class="quoc-huy w-10 h-10 md:w-14 md:h-14 object-contain drop-shadow-md">
                
                <!-- Title -->
                <div class="text-[9px] md:text-xs lg:text-sm font-bold text-red-100 uppercase text-center leading-tight">
                    ỦY BAN BẦU CỬ <br> XÃ ĐƠN DƯƠNG
                </div>
            </div>

            <!-- RIGHT COLUMN: Matches List width (flex-1) -->
            <div class="flex-1 p-2 md:p-4 flex items-center justify-center text-center">
                <h1 class="text-xs md:text-lg lg:text-xl font-bold uppercase leading-tight text-red-50 drop-shadow-md">
                    DANH SÁCH KHU VỰC BỎ PHIẾU QUỐC HỘI KHÓA XVI <br class="hidden md:block">
                    VÀ HĐND CÁC CẤP, NHIỆM KÌ 2026-2031
                </h1>
            </div>
        </div>
    </header>

    <!-- MAIN BODY -->
    <!-- UPDATED: 
         - Added pt-4 px-3 for mobile padding (top and horizontal).
         - Added md:py-6 md:px-0 for desktop padding (top/bottom). 
    -->
    <main class="flex-1 flex flex-col items-center md:justify-center w-full relative md:overflow-hidden pt-4 px-3 md:pt-6 md:pb-6 md:px-0">
        
        <!-- CAROUSEL CARD -->
        <!-- UPDATED: 
             - Changed md:h-[calc...] to md:h-full to fill the flex container respecting padding.
             - Added rounded-2xl to apply rounded corners on all sides for both mobile and desktop.
             - Removed md:rounded-b-2xl specific targeting.
        -->
        <div class="w-full max-w-6xl h-auto md:h-full bg-white shadow-xl overflow-hidden flex flex-col md:flex-row relative rounded-2xl">
            
            <!-- TABLET NAV BUTTONS (Hidden on Mobile, Hidden on XL Desktop, Visible on Tablet) -->
            <!-- Left Button -->
            <button onclick="prevUnit()" class="hidden md:flex xl:hidden absolute top-1/2 left-4 z-30 p-3 rounded-full bg-white/90 text-red-800 shadow-xl hover:bg-white hover:scale-110 transition-all border border-red-100 cursor-pointer" style="transform: translateY(-50%);">
                <i data-lucide="chevron-left" class="w-6 h-6"></i>
            </button>
            <!-- Right Button -->
            <button onclick="nextUnit()" class="hidden md:flex xl:hidden absolute top-1/2 right-4 z-30 p-3 rounded-full bg-white/90 text-red-800 shadow-xl hover:bg-white hover:scale-110 transition-all border border-red-100 cursor-pointer" style="transform: translateY(-50%);">
                <i data-lucide="chevron-right" class="w-6 h-6"></i>
            </button>

            <!-- LEFT COLUMN: Unit Information -->
            <div class="w-full md:w-1/3 bg-gradient-to-br from-red-700 to-red-800 text-white p-4 md:p-8 flex flex-row md:flex-col justify-between md:justify-center items-center relative overflow-hidden text-center shadow-lg shrink-0 z-10 transition-all">
                
                <!-- Decorative Background Number -->
                <div id="bg-unit-id" class="absolute -bottom-4 -left-4 md:-bottom-10 md:-left-10 text-8xl md:text-[200px] font-black text-white opacity-10 select-none leading-none pointer-events-none">
                    1
                </div>

                <!-- Mobile Prev Button -->
                <button onclick="prevUnit()" class="md:hidden p-2 bg-white/10 rounded-full hover:bg-white/20 active:scale-95 transition-transform text-white">
                    <i data-lucide="chevron-left" class="w-6 h-6"></i>
                </button>

                <!-- Content Info -->
                <div id="unit-info-container" class="flex flex-col items-center z-10 fade-in">
                    <!-- Icon & Label -->
                    <div class="flex items-center gap-2 md:block md:mb-4">
                        <div class="hidden md:inline-block p-3 rounded-full bg-red-500/30 mb-0 md:mb-4 backdrop-blur-sm border border-red-400/30 text-white">
                            <i data-lucide="vote" class="w-12 h-12"></i>
                        </div>
                        <h2 class="text-sm md:text-3xl font-bold uppercase tracking-widest md:mb-2 text-red-100">
                            Đơn vị bầu cử
                        </h2>
                    </div>

                    <!-- BIG NUMBER -->
                    <div class="text-4xl md:text-8xl font-black text-white drop-shadow-lg leading-tight md:mb-4">
                        <span class="md:hidden">Số </span><span id="display-unit-id">1</span>
                    </div>

                    <!-- Stats Badge Desktop -->
                    <div class="hidden md:inline-flex items-center gap-2 bg-white/20 px-4 py-2 rounded-full backdrop-blur-sm">
                        <i data-lucide="list" class="w-4 h-4 text-white"></i>
                        <span id="desktop-location-count" class="font-medium text-lg text-white">5 Khu vực</span>
                    </div>

                    <!-- Mobile Stats -->
                    <div id="mobile-location-count" class="md:hidden text-xs text-red-200 mt-1">
                        5 Khu vực bỏ phiếu
                    </div>
                </div>

                <!-- Mobile Next Button -->
                <button onclick="nextUnit()" class="md:hidden p-2 bg-white/10 rounded-full hover:bg-white/20 active:scale-95 transition-transform text-white">
                    <i data-lucide="chevron-right" class="w-6 h-6"></i>
                </button>

                <!-- Desktop Dots Indicator -->
                <div id="dots-container" class="hidden md:flex absolute bottom-6 gap-2 justify-center w-full left-0">
                    <!-- Dots will be injected by JS -->
                </div>
            </div>

            <!-- RIGHT COLUMN: List of Polling Stations -->
            <!-- UPDATED: w-full md:flex-1. Removed fixed height constraints on mobile. -->
            <div class="w-full md:flex-1 bg-gray-50 flex flex-col md:h-full relative">
                <!-- List Header -->
                <div class="p-3 md:p-6 bg-white border-b border-gray-200 shadow-sm flex items-center justify-between shrink-0 z-10">
                    <h3 class="text-sm md:text-xl font-bold text-gray-800 uppercase flex items-center gap-2">
                        <i data-lucide="map-pin" class="text-red-600 w-5 h-5 md:w-6 md:h-6"></i>
                        <span class="line-clamp-1">Danh sách khu vực bỏ phiếu</span>
                    </h3>
                    <span id="page-indicator" class="text-xs md:text-sm text-gray-400 font-medium whitespace-nowrap bg-gray-100 px-2 py-1 rounded">
                        1 / 7
                    </span>
                </div>

                <!-- Scrollable List Area -->
                <!-- UPDATED: Removed overflow-y-auto on mobile, kept md:overflow-y-auto. List will expand naturally. -->
                <div id="locations-list" class="w-full md:flex-1 md:overflow-y-auto p-2 md:p-6 custom-scrollbar scroll-smooth fade-in">
                    <!-- Location Cards will be injected by JS -->
                </div>
            </div>
        </div>

        <!-- Extra Large Screen External Nav Buttons (Visible only on XL screens) -->
        <button onclick="prevUnit()" class="hidden xl:block absolute left-4 z-10 p-4 rounded-full bg-white/20 hover:bg-white/40 text-red-800 backdrop-blur hover:text-red-900 transition-colors cursor-pointer">
            <i data-lucide="chevron-left" class="w-10 h-10"></i>
        </button>
        <button onclick="nextUnit()" class="hidden xl:block absolute right-4 z-10 p-4 rounded-full bg-white/20 hover:bg-white/40 text-red-800 backdrop-blur hover:text-red-900 transition-colors cursor-pointer">
            <i data-lucide="chevron-right" class="w-10 h-10"></i>
        </button>

    </main>

    <!-- JAVASCRIPT LOGIC -->
    <script>
        // DATA
        const ELECTION_DATA = [
            {
                id: 1,
                name: "Đơn vị bầu cử số 1",
                locations: [
                    { code: "Khu vực bỏ phiếu số 1", village: "Thôn K'Lót", address: "Nhà văn hóa thôn" },
                    { code: "Khu vực bỏ phiếu số 2", village: "Thôn R'Lơm", address: "Nhà văn hóa thôn" },
                    { code: "Khu vực bỏ phiếu số 3", village: "Thôn Ma Đanh", address: "Nhà văn hóa thôn" },
                    { code: "Khu vực bỏ phiếu số 4", village: "Thôn Hawai", address: "Nhà văn hóa thôn" },
                    { code: "Khu vực bỏ phiếu số 5", village: "Thôn Đa Hoa", address: "Nhà văn hóa thôn" },
                ]
            },
            {
                id: 2,
                name: "Đơn vị bầu cử số 2",
                locations: [
                    { code: "Khu vực bỏ phiếu số 6", village: "Thôn Kambutte", address: "Nhà văn hóa thôn" },
                    { code: "Khu vực bỏ phiếu số 7", village: "Thôn Bookabang", address: "Nhà văn hóa thôn" },
                    { code: "Khu vực bỏ phiếu số 8", village: "Thôn Lạc Trường", address: "Nhà văn hóa thôn" },
                ]
            },
            {
                id: 3,
                name: "Đơn vị bầu cử số 3",
                locations: [
                    { code: "Khu vực bỏ phiếu số 9", village: "Thôn Lạc Thạnh", address: "Nhà văn hóa thôn" },
                    { code: "Khu vực bỏ phiếu số 10", village: "Thôn Kinh Tế Mới", address: "Nhà văn hóa thôn" },
                    { code: "Khu vực bỏ phiếu số 11", village: "Thôn Suối Thông C1", address: "Nhà văn hóa thôn" },
                    { code: "Khu vực bỏ phiếu số 12", village: "Thôn Suối Thông C2", address: "Nhà văn hóa thôn" },
                    { code: "Khu vực bỏ phiếu số 13", village: "Thôn Cầu Sắt", address: "Nhà văn hóa thôn" },
                    { code: "Khu vực bỏ phiếu số 14", village: "Thôn Lạc Nghiệp", address: "Nhà văn hóa thôn" },
                    { code: "Khu vực bỏ phiếu số 15", village: "Thôn Nghĩa Đức", address: "Nhà văn hóa thôn" },
                ]
            },
            {
                id: 4,
                name: "Đơn vị bầu cử số 4",
                locations: [
                    { code: "Khu vực bỏ phiếu số 16", village: "Thôn Thạnh Hòa", address: "Nhà văn hóa thôn" },
                    { code: "Khu vực bỏ phiếu số 17", village: "Thôn Thạnh Nghĩa", address: "Nhà văn hóa thôn" },
                    { code: "Khu vực bỏ phiếu số 18", village: "Thôn M'Lọn", address: "Nhà văn hóa thôn" },
                    { code: "Khu vực bỏ phiếu số 19", village: "Thôn Nghĩa Thị", address: "Nhà văn hóa thôn" },
                ]
            },
            {
                id: 5,
                name: "Đơn vị bầu cử số 5",
                locations: [
                    { code: "Khu vực bỏ phiếu số 20", village: "Thôn Nghĩa Lập 1", address: "Nhà văn hóa thôn" },
                    { code: "Khu vực bỏ phiếu số 21", village: "Thôn Nghĩa Lập 2", address: "Nhà văn hóa thôn" },
                    { code: "Khu vực bỏ phiếu số 22", village: "Thôn Nghĩa Lập 3", address: "Nhà văn hóa thôn" },
                    { code: "Khu vực bỏ phiếu số 23", village: "Thôn Nghĩa Lập 4", address: "Nhà văn hóa thôn" },
                    { code: "Khu vực bỏ phiếu số 24", village: "Thôn Nghĩa Lập 5", address: "Nhà văn hóa thôn" },
                    { code: "Khu vực bỏ phiếu số 25", village: "Thôn Nghĩa Hội", address: "Nhà văn hóa thôn" },
                ]
            },
            {
                id: 6,
                name: "Đơn vị bầu cử số 6",
                locations: [
                    { code: "Khu vực bỏ phiếu số 26", village: "Thôn Suối Thông A1", address: "Nhà văn hóa thôn" },
                    { code: "Khu vực bỏ phiếu số 27", village: "Thôn Suối Thông A2", address: "Nhà văn hóa thôn" },
                    { code: "Khu vực bỏ phiếu số 28", village: "Thôn D'Ròn", address: "Nhà văn hóa thôn" },
                ]
            },
            {
                id: 7,
                name: "Đơn vị bầu cử số 7",
                locations: [
                    { code: "Khu vực bỏ phiếu số 29", village: "Thôn 1", address: "Nhà văn hóa thôn" },
                    { code: "Khu vực bỏ phiếu số 30", village: "Thôn 2", address: "Nhà văn hóa thôn" },
                    { code: "Khu vực bỏ phiếu số 31", village: "Thôn 3", address: "Nhà văn hóa thôn" },
                    { code: "Khu vực bỏ phiếu số 32", village: "Thôn Suối Thông B1", address: "Nhà văn hóa thôn" },
                    { code: "Khu vực bỏ phiếu số 33", village: "Thôn Suối Thông B2", address: "Nhà văn hóa thôn" },
                ]
            },
        ];

        // STATE
        let currentIndex = 0;
        let autoPlayInterval; // Biến lưu timer auto-play

        // RENDER FUNCTION
        function render() {
            const data = ELECTION_DATA[currentIndex];
            
            // 1. Update Left Column (Unit Info)
            document.getElementById('bg-unit-id').innerText = data.id;
            document.getElementById('display-unit-id').innerText = data.id;
            document.getElementById('desktop-location-count').innerText = `${data.locations.length} Khu vực`;
            document.getElementById('mobile-location-count').innerText = `${data.locations.length} Khu vực bỏ phiếu`;

            // Reset Animation for Unit Info
            const unitInfoContainer = document.getElementById('unit-info-container');
            unitInfoContainer.classList.remove('fade-in');
            void unitInfoContainer.offsetWidth; // Trigger reflow
            unitInfoContainer.classList.add('fade-in');

            // 2. Update Dots
            const dotsContainer = document.getElementById('dots-container');
            dotsContainer.innerHTML = '';
            ELECTION_DATA.forEach((_, idx) => {
                const dot = document.createElement('div');
                const isActive = idx === currentIndex;
                dot.className = `h-2 rounded-full transition-all cursor-pointer ${isActive ? 'w-8 bg-white' : 'w-2 bg-white/40 hover:bg-white/60'}`;
                dot.onclick = () => setUnit(idx);
                dotsContainer.appendChild(dot);
            });

            // 3. Update Right Column (List Header)
            document.getElementById('page-indicator').innerText = `${currentIndex + 1} / ${ELECTION_DATA.length}`;

            // 4. Update List Locations
            const listContainer = document.getElementById('locations-list');
            listContainer.innerHTML = ''; // Clear current list
            
            // Container for animation reflow
            listContainer.classList.remove('fade-in');
            void listContainer.offsetWidth;
            listContainer.classList.add('fade-in');

            const gridDiv = document.createElement('div');
            // UPDATED: Reduced padding bottom for mobile since buttons are at the top now
            gridDiv.className = 'grid gap-3 md:gap-4 pb-4 md:pb-0';

            data.locations.forEach((loc, idx) => {
                const card = document.createElement('div');
                // UPDATED: Used 'group/item' instead of 'group' to isolate hover effects per card
                card.className = 'bg-white p-3 md:p-5 rounded-lg border border-gray-200 shadow-sm hover:shadow-md transition-all hover:border-red-200 group/item active:scale-[0.99]';
                
                // UPDATED: Used 'group-hover/item:...' to match the specific group name
                card.innerHTML = `
                    <div class="flex items-start gap-3 md:gap-4">
                        <!-- Number Badge -->
                        <div class="flex-shrink-0 w-8 h-8 md:w-12 md:h-12 bg-red-50 rounded-full flex items-center justify-center text-red-700 font-bold text-sm md:text-lg border border-red-100 group-hover/item:bg-red-600 group-hover/item:text-white transition-colors">
                            ${idx + 1}
                        </div>
                        
                        <!-- Info -->
                        <div class="flex-1">
                            <h4 class="text-base md:text-lg font-bold text-gray-800 mb-1 group-hover/item:text-red-700 transition-colors line-clamp-2">
                                ${loc.village}
                            </h4>
                            <div class="flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-2 text-xs md:text-sm text-gray-600">
                                <span class="font-semibold px-2 py-0.5 bg-gray-100 rounded text-gray-700 w-fit inline-block">
                                    ${loc.code}
                                </span>
                                <span class="hidden sm:inline text-gray-300">|</span>
                                <span class="flex items-center gap-1">
                                    <i data-lucide="map-pin" class="w-3 h-3 text-gray-400 shrink-0"></i>
                                    <span class="line-clamp-1">${loc.address}</span>
                                </span>
                            </div>
                        </div>
                    </div>
                `;
                gridDiv.appendChild(card);
            });
            listContainer.appendChild(gridDiv);

            // Re-initialize Icons after DOM update
            lucide.createIcons();
        }

        // AUTO PLAY LOGIC
        function startAutoPlay() {
            // Xóa timer cũ nếu có
            if (autoPlayInterval) clearInterval(autoPlayInterval);
            
            // Tạo timer mới: chuyển slide mỗi 10 giây (10000ms)
            autoPlayInterval = setInterval(() => {
                currentIndex = (currentIndex + 1) % ELECTION_DATA.length;
                render();
            }, 10000);
        }

        // NAVIGATION ACTIONS
        function nextUnit() {
            currentIndex = (currentIndex + 1) % ELECTION_DATA.length;
            render();
            startAutoPlay(); // Reset timer khi người dùng tương tác
            
            // Removed auto-scroll logic as requested
        }

        function prevUnit() {
            currentIndex = (currentIndex - 1 + ELECTION_DATA.length) % ELECTION_DATA.length;
            render();
            startAutoPlay(); // Reset timer khi người dùng tương tác

            // Removed auto-scroll logic as requested
        }

        function setUnit(index) {
            currentIndex = index;
            render();
            startAutoPlay(); // Reset timer khi người dùng tương tác
        }

        // INITIALIZE
        document.addEventListener('DOMContentLoaded', () => {
            render();
            startAutoPlay(); // Bắt đầu auto-play khi tải trang
        });

    </script>
</body>
</html>
